<!--<!DOCTYPE html>-->
<!--<html lang="en">-->

<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>User - Available Movies</title>-->
<!--    <link rel="stylesheet" href="userHomePage.css">-->
<!--</head>-->

<!--<body>-->

<!--    <h1>Available Movies</h1>-->

<!--    &lt;!&ndash; Reservation Dropdown Button &ndash;&gt;-->
<!--    <button id="reserve-toggle">Reserve Tickets</button>-->

<!--    &lt;!&ndash; Reservation Form (hidden by default) &ndash;&gt;-->
<!--    <section id="reserve-section" style="display: none;">-->
<!--        <form id="reserve-form">-->
<!--            <label for="email">Email:</label>-->
<!--            <input type="email" id="email" name="email" required><br><br>-->

<!--            <label for="phone">Phone Number (Optional):</label>-->
<!--            <input type="tel" id="phone" name="phone"><br><br>-->

<!--            <label for="screening">Select Movie:</label>-->
<!--            <select id="screening" name="screening" required>-->
<!--                &lt;!&ndash; Movie options will be populated here dynamically &ndash;&gt;-->
<!--            </select><br><br>-->

<!--            <label for="number-of-seats">Number of Seats:</label>-->
<!--            <input type="number" id="number-of-seats" name="numberOfSeats" min="1" required><br><br>-->

<!--            <button type="submit">Reserve Tickets</button>-->
<!--        </form>-->
<!--        <p id="reserve-message"></p>-->
<!--    </section>-->

<!--    &lt;!&ndash; Movies List &ndash;&gt;-->
<!--    <ul id="movies-list">-->
<!--        &lt;!&ndash; Movies will be displayed here &ndash;&gt;-->
<!--    </ul>-->

<!--    <script>-->
<!--        // Toggle reservation form visibility-->
<!--        document.getElementById('reserve-toggle').addEventListener('click', function () {-->
<!--            const reserveSection = document.getElementById('reserve-section');-->
<!--            if (reserveSection.style.display === 'none') {-->
<!--                reserveSection.style.display = 'block';-->
<!--            } else {-->
<!--                reserveSection.style.display = 'none';-->
<!--            }-->
<!--        });-->

<!--        // Fetch movies from the backend API-->
<!--        fetch('/api/cinema/movies')-->
<!--            .then(response => response.json())-->
<!--            .then(movies => {-->
<!--                const moviesList = document.getElementById('movies-list');-->
<!--                const screeningSelect = document.getElementById('screening');-->
<!--                movies.forEach(movie => {-->
<!--                    // Display movies in the list-->
<!--                    const movieItem = document.createElement('li');-->
<!--                    movieItem.innerHTML = `-->
<!--                        <div class="movie-title">${movie.name}</div>-->
<!--                        <div class="movie-genre">${movie.genre}</div>-->
<!--                        <div class="movie-duration">${movie.duration} mins</div>-->
<!--                        <div class="movie-ageRequirement">Age: ${movie.ageRequirement}+</div>-->
<!--                    `;-->
<!--                    moviesList.appendChild(movieItem);-->

<!--                    // Populate movie dropdown for reservation-->
<!--                    const option = document.createElement('option');-->
<!--                    option.value = movie.id;-->
<!--                    option.textContent = movie.name;-->
<!--                    screeningSelect.appendChild(option);-->
<!--                });-->
<!--            })-->
<!--            .catch(error => console.error('Error fetching movies:', error));-->

<!--        // Handle reservation form submission-->
<!--        document.getElementById('reserve-form').addEventListener('submit', function (e) {-->
<!--            e.preventDefault();  // Prevent traditional form submission-->

<!--            const email = document.getElementById('email').value;-->
<!--            const phone = document.getElementById('phone').value; // Optional phone field-->
<!--            const screeningId = document.getElementById('screening').value;-->
<!--            const numberOfSeats = document.getElementById('number-of-seats').value;-->

<!--            // Send reservation request to the backend-->
<!--            fetch('/api/screen/reserve', {-->
<!--                method: 'POST',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json'-->
<!--                },-->
<!--                body: JSON.stringify({-->
<!--                    userEmail: email,-->
<!--                    userPhone: phone || null,  // Send phone if provided, otherwise null-->
<!--                    amountReserved: numberOfSeats,-->
<!--                    screeningId: screeningId-->
<!--                })-->
<!--            })-->
<!--                .then(response => {-->
<!--                    if (response.ok) {-->
<!--                        document.getElementById('reserve-message').textContent = 'Tickets reserved successfully!';-->
<!--                        document.getElementById('reserve-message').style.color = 'green';-->
<!--                        document.getElementById('reserve-form').reset();-->
<!--                    } else {-->
<!--                        document.getElementById('reserve-message').textContent = 'Failed to reserve tickets. Please try again.';-->
<!--                        document.getElementById('reserve-message').style.color = 'red';-->
<!--                    }-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error('Error reserving tickets:', error);-->
<!--                    document.getElementById('reserve-message').textContent = 'Error reserving tickets. Please try again later.';-->
<!--                    document.getElementById('reserve-message').style.color = 'red';-->
<!--                });-->
<!--        });-->
<!--    </script>-->

<!--</body>-->

<!--</html>-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cinema Movies</title>
    <link rel="stylesheet" href="homePage.css">
</head>

<body>

<h1>Now Showing</h1>

<ul id="movies-list">
    <!-- Movies will be displayed here -->
</ul>

<script>
    // Fetch movies from the Java backend API
    fetch('/api/cinema/movies')
        .then(response => response.json())
        .then(movies => {
            const moviesList = document.getElementById('movies-list');
            movies.forEach(movie => {
                const movieItem = document.createElement('li');

                movieItem.innerHTML = `
                        <a href="userMovieDetails/${movie.id}" class="movie-link">
                        <div class="movie-title">${movie.name}</div>
                        <div class="movie-genre">${movie.genre}</div>
                        <div class="movie-duration">${movie.duration} mins</div>
                        <div class="movie-ageRequirement">Age requirement: ${movie.ageRequirement}</div>
                        <p><strong>Max Seats:</strong> ${movie.maxSeats}</p>
                        <p><strong>Remaining Seats:</strong> ${movie.remainingSeats}</p>
                        </a>
                        `;

                moviesList.appendChild(movieItem);
            });
        })
        .catch(error => console.error('Error fetching movies:', error));

    // Event listener for the 'Create Movie' button
</script>

</body>

</html>